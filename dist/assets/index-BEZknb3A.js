(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const C={dazzle:{text:"Michael Wiss is a creative web developer in New York City that makes everything DAZZLING. We make work across all mediums and platforms: branding, digital, motion, illustration, environmental, print, packaging & more.",colors:["#ff5ca8","#ffbd2e","#2bf65d","#05d5ff","#a855f7","#ff5ca8"]},projects:[{id:"runners-rotation",title:"Runners Rotation",client:"Personal Project",service:"Shopify Headless Store",media:"/assets/img/runnersRotation.webm"},{id:"Hummingbird-Pantry",title:"Hummingbird Pantry",client:"Pantry App",service:"Web Application",media:"/assets/img/hummingbirdPantry.webm"},{id:"refinements",title:"Refinements",client:"Personal Project",service:"Shopify CustomTheme",media:"/assets/img/refinements1.webm"},{id:"american-negro-art",title:"American Negro Art",client:"Cedric Dover",service:"Full Stack Dev",media:"/assets/img/chefPortfoli.webm"}]},u=C||{},f=u.dazzle||{},E=u.projects||[],b=f.text||"";f.colors;const S={dazzleHeader:"dazzleHeader",modalOverlay:"modal-overlay",modalContent:"modal-content",hoverImageContainer:"hover-image-container"},w={visible:"visible",isOpen:"is-open"},I="M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z",P=[{size:64,color:"#FFD700",style:{top:"8%",left:"-2%"}},{size:48,color:"#05d5ff",style:{bottom:"20%",right:"5%",animationDelay:"1.2s"}},{size:32,color:"#ff5ca8",style:{top:"40%",left:"45%",opacity:"0.6",animationDelay:"2.5s"}}],d={PROJECTS:E,DAZZLE_TEXT:b,ELEMENTS:S,CLASSES:w,SPARKLE_PATH:I,SPARKLE_CONFIGS:P},L="http://www.w3.org/2000/svg",i={query(t,e=document){return!t||!e?null:e.querySelector(t)},queryAll(t,e=document){return!t||!e?[]:Array.from(e.querySelectorAll(t))},byId(t){return t?document.getElementById(t):null},createElement(t,e="",n={}){const s=document.createElement(t);return e&&(s.className=e),Object.entries(n).forEach(([r,a])=>{r==="text"?s.textContent=a:r==="html"?s.innerHTML=a:s.setAttribute(r,a)}),s},createSVG(t,e={}){const n=document.createElementNS(L,t);return Object.entries(e).forEach(([s,r])=>{n.setAttribute(s,r)}),n},applyStyles(t,e={}){!t||!e||Object.assign(t.style,e)},delegate(t,e,n,s){if(!t)return()=>{};const r=a=>{const c=a.target.closest(n);c&&t.contains(c)&&s(a,c)};return t.addEventListener(e,r),()=>t.removeEventListener(e,r)},addEventListener(t,e,n,s={}){return t?(t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)):()=>{}},addEventListeners(t,e={}){const n=[];return Object.entries(e).forEach(([s,r])=>{n.push(this.addEventListener(t,s,r))}),()=>n.forEach(s=>s())},clearChildren(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)},toggleClass(t,e,n){t&&t.classList.toggle(e,n)},addClass(t,...e){t&&t.classList.add(...e)},removeClass(t,...e){t&&t.classList.remove(...e)},hasClass(t,e){return t?t.classList.contains(e):!1},getData(t,e){if(t)return t.dataset[e]},setData(t,e,n){t&&(t.dataset[e]=n)},getAttribute(t,e){return t?t.getAttribute(e):null},setAttribute(t,e,n){t&&t.setAttribute(e,n)},removeAttribute(t,e){t&&t.removeAttribute(e)},insertAfter(t,e){!e||!t||e.parentNode.insertBefore(t,e.nextSibling)},insertBefore(t,e){!e||!t||e.parentNode.insertBefore(t,e)},append(t,e){!t||!e||t.appendChild(e)},appendChildren(t,e=[]){t&&e.forEach(n=>{n&&t.appendChild(n)})},getComputedStyle(t,e){return t?window.getComputedStyle(t).getPropertyValue(e):null},isConnected(t){return t&&t.isConnected},closest(t,e){return t?t.closest(e):null},getOffset(t){return t?(t.getBoundingClientRect(),{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight,offsetHeight:t.offsetHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight}):{top:0,left:0,width:0,height:0}},getBounds(t){return t?t.getBoundingClientRect():null},parsePixels(t){const e=parseFloat(t||"0");return Number.isNaN(e)?0:e},matches(t,e){return t?t.matches(e):!1}};class x{constructor(){this.container=null,this.gradientText=null,this.textWrapper=null,this.observer=null,this.resizeHandler=null,this.animationId=null,this.animationOffset=0,this.animationSpeed=10,this.isPaused=!1,this.handleResize=this.handleResize.bind(this),this.animateGradient=this.animateGradient.bind(this)}init(e){if(this.container=i.byId(e),!this.container){console.error(`Dazzle container #${e} not found`);return}i.clearChildren(this.container),i.addClass(this.container,"dazzle-header"),this.renderBackground(),this.renderContent(),this.setupIntersectionObserver(),this.setupResizeHandler(),requestAnimationFrame(()=>{this.updateGradientPositions(),this.textWrapper&&i.addClass(this.textWrapper,"loaded"),this.startGradientAnimation()}),window.addEventListener("load",()=>{this.updateGradientPositions()})}renderBackground(){const e=i.createElement("div","bg-blob bg-blob-purple"),n=i.createElement("div","bg-blob bg-blob-blue");i.appendChildren(this.container,[e,n])}renderContent(){const e=i.createElement("div","dazzle-content");this.textWrapper=i.createElement("div","dazzle-text-wrapper"),this.gradientText=i.createElement("span","gradient-text");const n=d.DAZZLE_TEXT.trim().split(/\s+/),s=document.createDocumentFragment();n.forEach((a,c)=>{const o=i.createElement("span","gradient-word");i.applyStyles(o,{animationDelay:`${c*.04}s`});const l=i.createElement("span","gradient-text-clip",{text:a});i.append(o,l),s.appendChild(o),c<n.length-1&&s.appendChild(document.createTextNode(" "))}),i.append(this.gradientText,s),i.append(this.textWrapper,this.gradientText),this.renderSparkles(this.textWrapper),i.append(e,this.textWrapper);const r=i.createElement("p","dazzle-footer",{text:"Powered by Vanilla JS"});i.append(e,r),i.append(this.container,e)}renderSparkles(e){d.SPARKLE_CONFIGS.forEach(n=>{const s=i.createElement("div","sparkle-container");i.applyStyles(s,n.style);const r=this.createSparkleSVG(n.size,n.color);i.append(s,r),i.append(e,s)})}createSparkleSVG(e,n){const s=i.createSVG("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:n,class:"sparkle-icon"}),r=i.createSVG("path",{d:d.SPARKLE_PATH});return i.append(s,r),s}updateGradientPositions(){if(!this.gradientText)return;this.gradientText.querySelectorAll(".gradient-word").forEach(n=>{const r=n.getBoundingClientRect().left;n.style.setProperty("--bg-x",`-${r}px`)})}startGradientAnimation(){this.animationId||this.animateGradient()}animateGradient(){if(!this.isPaused&&this.gradientText){this.animationOffset+=this.animationSpeed;const e=window.innerWidth;this.animationOffset>=e&&(this.animationOffset=0),this.gradientText.querySelectorAll(".gradient-word").forEach(s=>{s.style.setProperty("--bg-offset",`${this.animationOffset}px`)})}this.animationId=requestAnimationFrame(this.animateGradient)}stopGradientAnimation(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}setupIntersectionObserver(){this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?(i.removeClass(this.container,"paused"),this.isPaused=!1):(i.addClass(this.container,"paused"),this.isPaused=!0)})},{threshold:0}),this.observer.observe(this.container)}setupResizeHandler(){this.resizeHandler=this.handleResize,window.addEventListener("resize",this.resizeHandler)}handleResize(){this.updateGradientPositions()}destroy(){this.stopGradientAnimation(),this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),this.observer&&this.observer.disconnect(),this.container&&i.clearChildren(this.container),this.container=null,this.gradientText=null,this.animationOffset=0,this.isPaused=!1}}class z{constructor(){this.overlay=null,this.content=null,this.activeProjectId=null,this.elements={},this.close=this.close.bind(this)}init(e){if(this.overlay)return;this.overlay=i.createElement("div","modal-overlay"),this.overlay.id=d.ELEMENTS.modalOverlay,i.addEventListener(this.overlay,"click",()=>{this.close()}),this.content=i.createElement("div","modal-content"),this.content.id=d.ELEMENTS.modalContent,i.addEventListener(this.content,"click",s=>{s.stopPropagation()});const n=this.createCloseButton();this.elements.mediaContainer=i.createElement("div","modal-media-container"),this.elements.img=i.createElement("img","modal-image"),this.elements.img.id="modal-img-el",this.elements.img.style.display="none",this.elements.video=i.createElement("video","modal-video",{muted:"",loop:"",autoplay:"",playsinline:"",controls:""}),this.elements.video.id="modal-video-el",this.elements.video.style.display="none",i.appendChildren(this.elements.mediaContainer,[this.elements.img,this.elements.video]),this.elements.title=i.createElement("h2","modal-title"),this.elements.title.id="modal-title-el",this.elements.client=i.createElement("p","modal-client"),this.elements.client.id="modal-client-el",this.elements.service=i.createElement("p","modal-service"),this.elements.service.id="modal-service-el",this.elements.btn=i.createElement("button","view-project-btn",{text:"View Project"}),i.appendChildren(this.content,[n,this.elements.mediaContainer,this.elements.title,this.elements.client,this.elements.service,this.elements.btn]),i.append(this.overlay,this.content),i.append(e,this.overlay)}createCloseButton(){const e=i.createElement("div","close-btn",{text:"Close"});return i.addEventListener(e,"click",this.close),e}open(e){if(this.activeProjectId=e,!this.overlay){console.error("ModalManager not initialized");return}const n=d.PROJECTS.find(s=>s.id===this.activeProjectId);n&&(this.updateContent(n),i.addClass(this.overlay,d.CLASSES.isOpen),document.body.style.overflow="hidden")}updateContent(e){e.media.endsWith(".webm")||e.media.endsWith(".mp4")?(this.elements.video.src=e.media,this.elements.video.style.display="block",this.elements.video.play().catch(s=>console.warn("Modal video play blocked",s)),this.elements.img.style.display="none"):(this.elements.img.src=e.media,this.elements.img.alt=e.title,this.elements.img.style.display="block",this.elements.video.style.display="none",this.elements.video.pause()),this.elements.title&&(this.elements.title.textContent=e.title),this.elements.client&&(this.elements.client.textContent=e.client),this.elements.service&&(this.elements.service.textContent=e.service)}close(){this.activeProjectId=null,this.overlay&&(i.removeClass(this.overlay,d.CLASSES.isOpen),document.body.style.overflow="")}destroy(){this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.content=null,this.elements={}}}class A{constructor({modalManager:e}){this.modalManager=e,this.container=null,this.hoverImageContainer=null,this.hoveredProjectId=null,this.cleanups=[],this.updateHoverImage=this.updateHoverImage.bind(this)}init(e){if(this.container=i.byId(e),!this.container)return;i.addClass(this.container,"row-demo-container");const n=i.createElement("div","row-wrapper");this.renderHoverImageContainer(this.container),this.renderProjectList(n),this.renderProjectGrid(n),i.append(this.container,n)}renderHoverImageContainer(e){this.hoverImageContainer=i.createElement("div","hover-image-container"),this.hoverImageContainer.id=d.ELEMENTS.hoverImageContainer;const n=i.createElement("img","",{alt:"Hover Preview"});n.style.display="none",i.append(this.hoverImageContainer,n);const s=i.createElement("video","",{muted:"",loop:"",autoplay:"",playsinline:""});s.muted=!0,s.style.display="none",i.append(this.hoverImageContainer,s),i.append(e,this.hoverImageContainer)}updateHoverImage(){if(!this.hoverImageContainer)return;const e=this.hoverImageContainer.querySelector("img"),n=this.hoverImageContainer.querySelector("video");if(this.hoveredProjectId){const s=d.PROJECTS.find(r=>r.id===this.hoveredProjectId);s&&((s.media.endsWith(".webm")||s.media.endsWith(".mp4"))&&n?(n.src.includes(s.media)||(n.src=s.media,n.load(),n.play().catch(a=>console.warn("Video autoplay blocked",a))),e&&(e.style.display="none"),n.style.display="block"):e&&(e.src!==s.media&&(e.src=s.media),n&&(n.style.display="none",n.pause()),e.style.display="block"),i.addClass(this.hoverImageContainer,d.CLASSES.visible))}else i.removeClass(this.hoverImageContainer,d.CLASSES.visible),n&&n.pause()}renderProjectList(e){const n=i.createElement("div","index-section"),s=document.createDocumentFragment(),r=i.delegate(n,"click",".index-row",(o,l)=>{const h=i.getData(l,"projectId");h&&this.modalManager.open(h)});this.cleanups.push(r);const a=i.delegate(n,"mouseover",".index-row",(o,l)=>{const h=i.getData(l,"projectId");h&&this.hoveredProjectId!==h&&(this.hoveredProjectId=h,this.updateHoverImage())});this.cleanups.push(a);const c=i.delegate(n,"mouseout",".index-row",(o,l)=>{l.contains(o.relatedTarget)||(this.hoveredProjectId=null,this.updateHoverImage())});this.cleanups.push(c),d.PROJECTS.forEach((o,l)=>{const h=i.createElement("div","index-row");i.setData(h,"projectId",o.id);const m=i.createElement("div","row-meta",{text:`00-${l+1}`}),p=i.createElement("div"),v=i.createElement("h1","",{text:o.title});i.append(p,v);const g=i.createElement("div","row-meta text-right",{text:o.client}),y=i.createElement("div","row-meta text-right",{text:o.service});i.appendChildren(h,[m,p,g,y]),s.appendChild(h)}),i.append(n,s),i.append(e,n)}renderProjectGrid(e){const n=i.createElement("h2","grid-header",{text:"Selected Works"});i.append(e,n);const s=i.createElement("div","grid-section"),r=i.createElement("div","grid-container"),a=document.createDocumentFragment(),c=i.delegate(r,"click",".grid-tile",(o,l)=>{const h=i.getData(l,"projectId");h&&this.modalManager.open(h)});this.cleanups.push(c),d.PROJECTS.forEach(o=>{const l=i.createElement("div","grid-tile");if(i.setData(l,"projectId",o.id),o.media.endsWith(".webm")||o.media.endsWith(".mp4")){const m=i.createElement("video","",{src:o.media,muted:"",loop:"",autoplay:"",playsinline:""});m.muted=!0,i.append(l,m)}else{const m=i.createElement("img","",{src:o.media,alt:o.title,loading:"lazy"});i.append(l,m)}a.appendChild(l)}),i.append(r,a),i.append(s,r),i.append(e,s)}destroy(){this.cleanups.forEach(e=>e()),this.cleanups=[],this.modalManager.destroy(),this.container&&i.clearChildren(this.container),this.container=null,this.hoverImageContainer=null,this.hoveredProjectId=null}}document.addEventListener("DOMContentLoaded",()=>{const t=new x;t.init(d.ELEMENTS.dazzleHeader);const e=new z;e.init(document.body);const n=new A({modalManager:e});n.init("rowDemo"),window.App={header:t,modal:e,rowDemo:n}});
