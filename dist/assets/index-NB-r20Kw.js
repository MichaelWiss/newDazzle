(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=i(a);fetch(a.href,s)}})();const C={dazzle:{text:"Dazzle is a creative studio in New York City that makes everything DAZZLING. We make work across all mediums and platforms: branding, digital, motion, illustration, environmental, print, packaging & more.",colors:["#ff5ca8","#ffbd2e","#2bf65d","#05d5ff","#a855f7","#ff5ca8"]},books:[{id:"azurest-blue",title:"AZUREST BLUE: The Life and Legacy of Amaza Lee Meredith",author:"Saint Heron",type:"Research Journal",image:"https://saintheron.com/cdn/shop/files/ALM-SCANS-COVER-2_600x.jpg?v=1762822932"},{id:"daughters-geography",title:"A Daughter's Geography",author:"Ntozake Shange",type:"Poetry",image:"https://saintheron.com/cdn/shop/files/A_Daughter_s_Geography_600x.jpg?v=1758819678"},{id:"black-dance",title:"Black Dance",author:"Edward Thorpe",type:"Arts & Photography",image:"https://saintheron.com/cdn/shop/files/COVER_BLACKDANCE_600x.png?v=1698690934"},{id:"american-negro-art",title:"American Negro Art",author:"Cedric Dover",type:"Art Catalogue",image:"https://saintheron.com/cdn/shop/products/American-Negro-Art-001_600x.png?v=1634054597"}]},u=C||{},m=u.dazzle||{},y=u.books||[],b=m.text||"";m.colors;const S={dazzleHeader:"dazzleHeader",modalOverlay:"modal-overlay",modalContent:"modal-content",hoverImageContainer:"hover-image-container"},L={visible:"visible",isOpen:"is-open"},w="M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z",I=[{size:64,color:"#FFD700",style:{top:"8%",left:"-2%"}},{size:48,color:"#05d5ff",style:{bottom:"20%",right:"5%",animationDelay:"1.2s"}},{size:32,color:"#ff5ca8",style:{top:"40%",left:"45%",opacity:"0.6",animationDelay:"2.5s"}}],c={BOOKS:y,DAZZLE_TEXT:b,ELEMENTS:S,CLASSES:L,SPARKLE_PATH:w,SPARKLE_CONFIGS:I},A="http://www.w3.org/2000/svg",n={query(t,e=document){return!t||!e?null:e.querySelector(t)},queryAll(t,e=document){return!t||!e?[]:Array.from(e.querySelectorAll(t))},byId(t){return t?document.getElementById(t):null},createElement(t,e="",i={}){const r=document.createElement(t);return e&&(r.className=e),Object.entries(i).forEach(([a,s])=>{a==="text"?r.textContent=s:a==="html"?r.innerHTML=s:r.setAttribute(a,s)}),r},createSVG(t,e={}){const i=document.createElementNS(A,t);return Object.entries(e).forEach(([r,a])=>{i.setAttribute(r,a)}),i},applyStyles(t,e={}){!t||!e||Object.assign(t.style,e)},delegate(t,e,i,r){if(!t)return()=>{};const a=s=>{const h=s.target.closest(i);h&&t.contains(h)&&r(s,h)};return t.addEventListener(e,a),()=>t.removeEventListener(e,a)},addEventListener(t,e,i,r={}){return t?(t.addEventListener(e,i,r),()=>t.removeEventListener(e,i,r)):()=>{}},addEventListeners(t,e={}){const i=[];return Object.entries(e).forEach(([r,a])=>{i.push(this.addEventListener(t,r,a))}),()=>i.forEach(r=>r())},clearChildren(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)},toggleClass(t,e,i){t&&t.classList.toggle(e,i)},addClass(t,...e){t&&t.classList.add(...e)},removeClass(t,...e){t&&t.classList.remove(...e)},hasClass(t,e){return t?t.classList.contains(e):!1},getData(t,e){if(t)return t.dataset[e]},setData(t,e,i){t&&(t.dataset[e]=i)},getAttribute(t,e){return t?t.getAttribute(e):null},setAttribute(t,e,i){t&&t.setAttribute(e,i)},removeAttribute(t,e){t&&t.removeAttribute(e)},insertAfter(t,e){!e||!t||e.parentNode.insertBefore(t,e.nextSibling)},insertBefore(t,e){!e||!t||e.parentNode.insertBefore(t,e)},append(t,e){!t||!e||t.appendChild(e)},appendChildren(t,e=[]){t&&e.forEach(i=>{i&&t.appendChild(i)})},getComputedStyle(t,e){return t?window.getComputedStyle(t).getPropertyValue(e):null},isConnected(t){return t&&t.isConnected},closest(t,e){return t?t.closest(e):null},getOffset(t){return t?(t.getBoundingClientRect(),{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight,offsetHeight:t.offsetHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight}):{top:0,left:0,width:0,height:0}},getBounds(t){return t?t.getBoundingClientRect():null},parsePixels(t){const e=parseFloat(t||"0");return Number.isNaN(e)?0:e},matches(t,e){return t?t.matches(e):!1}};class x{constructor(){this.container=null,this.gradientText=null,this.textWrapper=null,this.observer=null,this.resizeHandler=null,this.animationId=null,this.animationOffset=0,this.animationSpeed=10,this.isPaused=!1,this.handleResize=this.handleResize.bind(this),this.animateGradient=this.animateGradient.bind(this)}init(e){if(this.container=n.byId(e),!this.container){console.error(`Dazzle container #${e} not found`);return}n.clearChildren(this.container),n.addClass(this.container,"dazzle-header"),this.renderBackground(),this.renderContent(),this.setupIntersectionObserver(),this.setupResizeHandler(),requestAnimationFrame(()=>{this.updateGradientPositions(),this.textWrapper&&n.addClass(this.textWrapper,"loaded"),this.startGradientAnimation()}),window.addEventListener("load",()=>{this.updateGradientPositions()})}renderBackground(){const e=n.createElement("div","bg-blob bg-blob-purple"),i=n.createElement("div","bg-blob bg-blob-blue");n.appendChildren(this.container,[e,i])}renderContent(){const e=n.createElement("div","dazzle-content");this.textWrapper=n.createElement("div","dazzle-text-wrapper"),this.gradientText=n.createElement("span","gradient-text");const i=c.DAZZLE_TEXT.trim().split(/\s+/),r=document.createDocumentFragment();i.forEach((s,h)=>{const o=n.createElement("span","gradient-word");n.applyStyles(o,{animationDelay:`${h*.04}s`});const d=n.createElement("span","gradient-text-clip",{text:s});n.append(o,d),r.appendChild(o),h<i.length-1&&r.appendChild(document.createTextNode(" "))}),n.append(this.gradientText,r),n.append(this.textWrapper,this.gradientText),this.renderSparkles(this.textWrapper),n.append(e,this.textWrapper);const a=n.createElement("p","dazzle-footer",{text:"Powered by Vanilla JS"});n.append(e,a),n.append(this.container,e)}renderSparkles(e){c.SPARKLE_CONFIGS.forEach(i=>{const r=n.createElement("div","sparkle-container");n.applyStyles(r,i.style);const a=this.createSparkleSVG(i.size,i.color);n.append(r,a),n.append(e,r)})}createSparkleSVG(e,i){const r=n.createSVG("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:i,class:"sparkle-icon"}),a=n.createSVG("path",{d:c.SPARKLE_PATH});return n.append(r,a),r}updateGradientPositions(){if(!this.gradientText)return;this.gradientText.querySelectorAll(".gradient-word").forEach(i=>{const a=i.getBoundingClientRect().left;i.style.setProperty("--bg-x",`-${a}px`)})}startGradientAnimation(){this.animationId||this.animateGradient()}animateGradient(){if(!this.isPaused&&this.gradientText){this.animationOffset+=this.animationSpeed;const e=window.innerWidth;this.animationOffset>=e&&(this.animationOffset=0),this.gradientText.querySelectorAll(".gradient-word").forEach(r=>{r.style.setProperty("--bg-offset",`${this.animationOffset}px`)})}this.animationId=requestAnimationFrame(this.animateGradient)}stopGradientAnimation(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}setupIntersectionObserver(){this.observer=new IntersectionObserver(e=>{e.forEach(i=>{i.isIntersecting?(n.removeClass(this.container,"paused"),this.isPaused=!1):(n.addClass(this.container,"paused"),this.isPaused=!0)})},{threshold:0}),this.observer.observe(this.container)}setupResizeHandler(){this.resizeHandler=this.handleResize,window.addEventListener("resize",this.resizeHandler)}handleResize(){this.updateGradientPositions()}destroy(){this.stopGradientAnimation(),this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),this.observer&&this.observer.disconnect(),this.container&&n.clearChildren(this.container),this.container=null,this.gradientText=null,this.animationOffset=0,this.isPaused=!1}}class z{constructor(){this.overlay=null,this.content=null,this.activeBookId=null,this.elements={},this.close=this.close.bind(this)}init(e){if(this.overlay)return;this.overlay=n.createElement("div","modal-overlay"),this.overlay.id=c.ELEMENTS.modalOverlay,n.addEventListener(this.overlay,"click",()=>{this.close()}),this.content=n.createElement("div","modal-content"),this.content.id=c.ELEMENTS.modalContent,n.addEventListener(this.content,"click",r=>{r.stopPropagation()});const i=this.createCloseButton();this.elements.img=n.createElement("img","modal-image"),this.elements.img.id="modal-img-el",this.elements.title=n.createElement("h2","modal-title"),this.elements.title.id="modal-title-el",this.elements.author=n.createElement("p","modal-author"),this.elements.author.id="modal-author-el",this.elements.btn=n.createElement("button","borrow-btn",{text:"Borrow Book"}),n.appendChildren(this.content,[i,this.elements.img,this.elements.title,this.elements.author,this.elements.btn]),n.append(this.overlay,this.content),n.append(e,this.overlay)}createCloseButton(){const e=n.createElement("div","close-btn",{text:"Close"});return n.addEventListener(e,"click",this.close),e}open(e){if(this.activeBookId=e,!this.overlay){console.error("ModalManager not initialized");return}const i=c.BOOKS.find(r=>r.id===this.activeBookId);i&&(this.updateContent(i),n.addClass(this.overlay,c.CLASSES.isOpen),document.body.style.overflow="hidden")}updateContent(e){this.elements.img&&(this.elements.img.src=e.image,this.elements.img.alt=e.title),this.elements.title&&(this.elements.title.textContent=e.title),this.elements.author&&(this.elements.author.textContent=e.author)}close(){this.activeBookId=null,this.overlay&&(n.removeClass(this.overlay,c.CLASSES.isOpen),document.body.style.overflow="")}destroy(){this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.content=null,this.elements={}}}class O{constructor({modalManager:e}){this.modalManager=e,this.container=null,this.hoverImageContainer=null,this.hoveredBookId=null,this.cleanups=[],this.updateHoverImage=this.updateHoverImage.bind(this)}init(e){if(this.container=n.byId(e),!this.container)return;n.addClass(this.container,"row-demo-container");const i=n.createElement("div","row-wrapper");this.renderHoverImageContainer(this.container),this.renderBookList(i),this.renderBookGrid(i),n.append(this.container,i)}renderHoverImageContainer(e){this.hoverImageContainer=n.createElement("div","hover-image-container"),this.hoverImageContainer.id=c.ELEMENTS.hoverImageContainer;const i=n.createElement("img","",{alt:"Hover Preview"});n.append(this.hoverImageContainer,i),n.append(e,this.hoverImageContainer)}updateHoverImage(){if(!this.hoverImageContainer)return;const e=this.hoverImageContainer.querySelector("img");if(this.hoveredBookId){const i=c.BOOKS.find(r=>r.id===this.hoveredBookId);i&&e&&(e.src!==i.image&&(e.src=i.image),n.addClass(this.hoverImageContainer,c.CLASSES.visible))}else n.removeClass(this.hoverImageContainer,c.CLASSES.visible)}renderBookList(e){const i=n.createElement("div","index-section"),r=document.createDocumentFragment(),a=n.delegate(i,"click",".index-row",(o,d)=>{const l=n.getData(d,"bookId");l&&this.modalManager.open(l)});this.cleanups.push(a);const s=n.delegate(i,"mouseover",".index-row",(o,d)=>{const l=n.getData(d,"bookId");l&&this.hoveredBookId!==l&&(this.hoveredBookId=l,this.updateHoverImage())});this.cleanups.push(s);const h=n.delegate(i,"mouseout",".index-row",(o,d)=>{d.contains(o.relatedTarget)||(this.hoveredBookId=null,this.updateHoverImage())});this.cleanups.push(h),c.BOOKS.forEach((o,d)=>{const l=n.createElement("div","index-row");n.setData(l,"bookId",o.id);const g=n.createElement("div","row-meta",{text:`00-${d+1}`}),p=n.createElement("div"),f=n.createElement("h1","",{text:o.title});n.append(p,f);const v=n.createElement("div","row-meta text-right",{text:o.author}),E=n.createElement("div","row-meta text-right",{text:o.type});n.appendChildren(l,[g,p,v,E]),r.appendChild(l)}),n.append(i,r),n.append(e,i)}renderBookGrid(e){const i=n.createElement("h2","grid-header",{text:"Library Grid"});n.append(e,i);const r=n.createElement("div","grid-section"),a=n.createElement("div","grid-container"),s=document.createDocumentFragment(),h=n.delegate(a,"click",".grid-tile",(o,d)=>{const l=n.getData(d,"bookId");l&&this.modalManager.open(l)});this.cleanups.push(h),c.BOOKS.forEach(o=>{const d=n.createElement("div","grid-tile");n.setData(d,"bookId",o.id);const l=n.createElement("img","",{src:o.image,alt:o.title,loading:"lazy"});n.append(d,l),s.appendChild(d)}),n.append(a,s),n.append(r,a),n.append(e,r)}destroy(){this.cleanups.forEach(e=>e()),this.cleanups=[],this.modalManager.destroy(),this.container&&n.clearChildren(this.container),this.container=null,this.hoverImageContainer=null,this.hoveredBookId=null}}document.addEventListener("DOMContentLoaded",()=>{const t=new x;t.init(c.ELEMENTS.dazzleHeader);const e=new z;e.init(document.body);const i=new O({modalManager:e});i.init("rowDemo"),window.App={header:t,modal:e,rowDemo:i}});
