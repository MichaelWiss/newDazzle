(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const C={dazzle:{text:"Dazzle is a creative studio in New York City that makes everything DAZZLING. We make work across all mediums and platforms: branding, digital, motion, illustration, environmental, print, packaging & more.",colors:["#ff5ca8","#ffbd2e","#2bf65d","#05d5ff","#a855f7","#ff5ca8"]},books:[{id:"azurest-blue",title:"AZUREST BLUE: The Life and Legacy of Amaza Lee Meredith",author:"Saint Heron",type:"Research Journal",image:"https://saintheron.com/cdn/shop/files/ALM-SCANS-COVER-2_600x.jpg?v=1762822932"},{id:"daughters-geography",title:"A Daughter's Geography",author:"Ntozake Shange",type:"Poetry",image:"https://saintheron.com/cdn/shop/files/A_Daughter_s_Geography_600x.jpg?v=1758819678"},{id:"black-dance",title:"Black Dance",author:"Edward Thorpe",type:"Arts & Photography",image:"https://saintheron.com/cdn/shop/files/COVER_BLACKDANCE_600x.png?v=1698690934"},{id:"american-negro-art",title:"American Negro Art",author:"Cedric Dover",type:"Art Catalogue",image:"https://saintheron.com/cdn/shop/products/American-Negro-Art-001_600x.png?v=1634054597"}]},p=C||{},m=p.dazzle||{},y=p.books||[],b=m.text||"";m.colors;const S={dazzleHeader:"dazzleHeader",modalOverlay:"modal-overlay",modalContent:"modal-content",hoverImageContainer:"hover-image-container"},L={visible:"visible",isOpen:"is-open"},w="M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z",I=[{size:64,color:"#FFD700",style:{top:"8%",left:"-2%"}},{size:48,color:"#05d5ff",style:{bottom:"20%",right:"5%",animationDelay:"1.2s"}},{size:32,color:"#ff5ca8",style:{top:"40%",left:"45%",opacity:"0.6",animationDelay:"2.5s"}}],c={BOOKS:y,DAZZLE_TEXT:b,ELEMENTS:S,CLASSES:L,SPARKLE_PATH:w,SPARKLE_CONFIGS:I},z="http://www.w3.org/2000/svg",n={query(t,e=document){return!t||!e?null:e.querySelector(t)},queryAll(t,e=document){return!t||!e?[]:Array.from(e.querySelectorAll(t))},byId(t){return t?document.getElementById(t):null},createElement(t,e="",r={}){const i=document.createElement(t);return e&&(i.className=e),Object.entries(r).forEach(([o,s])=>{o==="text"?i.textContent=s:o==="html"?i.innerHTML=s:i.setAttribute(o,s)}),i},createSVG(t,e={}){const r=document.createElementNS(z,t);return Object.entries(e).forEach(([i,o])=>{r.setAttribute(i,o)}),r},applyStyles(t,e={}){!t||!e||Object.assign(t.style,e)},delegate(t,e,r,i){if(!t)return()=>{};const o=s=>{const h=s.target.closest(r);h&&t.contains(h)&&i(s,h)};return t.addEventListener(e,o),()=>t.removeEventListener(e,o)},addEventListener(t,e,r,i={}){return t?(t.addEventListener(e,r,i),()=>t.removeEventListener(e,r,i)):()=>{}},addEventListeners(t,e={}){const r=[];return Object.entries(e).forEach(([i,o])=>{r.push(this.addEventListener(t,i,o))}),()=>r.forEach(i=>i())},clearChildren(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)},toggleClass(t,e,r){t&&t.classList.toggle(e,r)},addClass(t,...e){t&&t.classList.add(...e)},removeClass(t,...e){t&&t.classList.remove(...e)},hasClass(t,e){return t?t.classList.contains(e):!1},getData(t,e){if(t)return t.dataset[e]},setData(t,e,r){t&&(t.dataset[e]=r)},getAttribute(t,e){return t?t.getAttribute(e):null},setAttribute(t,e,r){t&&t.setAttribute(e,r)},removeAttribute(t,e){t&&t.removeAttribute(e)},insertAfter(t,e){!e||!t||e.parentNode.insertBefore(t,e.nextSibling)},insertBefore(t,e){!e||!t||e.parentNode.insertBefore(t,e)},append(t,e){!t||!e||t.appendChild(e)},appendChildren(t,e=[]){t&&e.forEach(r=>{r&&t.appendChild(r)})},getComputedStyle(t,e){return t?window.getComputedStyle(t).getPropertyValue(e):null},isConnected(t){return t&&t.isConnected},closest(t,e){return t?t.closest(e):null},getOffset(t){return t?(t.getBoundingClientRect(),{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight,offsetHeight:t.offsetHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight}):{top:0,left:0,width:0,height:0}},getBounds(t){return t?t.getBoundingClientRect():null},parsePixels(t){const e=parseFloat(t||"0");return Number.isNaN(e)?0:e},matches(t,e){return t?t.matches(e):!1}};class A{constructor(){this.container=null,this.gradientText=null,this.observer=null,this.resizeHandler=null,this.handleResize=this.handleResize.bind(this)}init(e){if(this.container=n.byId(e),!this.container){console.error(`Dazzle container #${e} not found`);return}n.clearChildren(this.container),n.addClass(this.container,"dazzle-header"),this.renderBackground(),this.renderContent(),this.setupIntersectionObserver(),this.setupResizeHandler(),requestAnimationFrame(()=>{this.updateGradientPositions()}),window.addEventListener("load",()=>{this.updateGradientPositions()})}renderBackground(){const e=n.createElement("div","bg-blob bg-blob-purple"),r=n.createElement("div","bg-blob bg-blob-blue");n.appendChildren(this.container,[e,r])}renderContent(){const e=n.createElement("div","dazzle-content"),r=n.createElement("div","dazzle-text-wrapper");this.gradientText=n.createElement("span","gradient-text");const i=c.DAZZLE_TEXT.trim().split(/\s+/),o=document.createDocumentFragment();i.forEach((h,a)=>{const l=n.createElement("span","gradient-word",{text:h});n.applyStyles(l,{animationDelay:`${a*.04}s`}),o.appendChild(l),a<i.length-1&&o.appendChild(document.createTextNode(" "))}),n.append(this.gradientText,o),n.append(r,this.gradientText),this.renderSparkles(r),n.append(e,r);const s=n.createElement("p","dazzle-footer",{text:"Powered by Vanilla JS"});n.append(e,s),n.append(this.container,e)}renderSparkles(e){c.SPARKLE_CONFIGS.forEach(r=>{const i=n.createElement("div","sparkle-container");n.applyStyles(i,r.style);const o=this.createSparkleSVG(r.size,r.color);n.append(i,o),n.append(e,i)})}createSparkleSVG(e,r){const i=n.createSVG("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:r,class:"sparkle-icon"}),o=n.createSVG("path",{d:c.SPARKLE_PATH});return n.append(i,o),i}updateGradientPositions(){if(!this.gradientText)return;this.gradientText.querySelectorAll(".gradient-word").forEach(r=>{const o=r.getBoundingClientRect().left;r.style.setProperty("--bg-x",`-${o}px`)})}setupIntersectionObserver(){this.observer=new IntersectionObserver(e=>{e.forEach(r=>{r.isIntersecting?n.removeClass(this.container,"paused"):n.addClass(this.container,"paused")})},{threshold:0}),this.observer.observe(this.container)}setupResizeHandler(){this.resizeHandler=this.handleResize,window.addEventListener("resize",this.resizeHandler)}handleResize(){this.updateGradientPositions()}destroy(){this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),this.observer&&this.observer.disconnect(),this.container&&n.clearChildren(this.container),this.container=null,this.gradientText=null}}class x{constructor(){this.overlay=null,this.content=null,this.activeBookId=null,this.elements={},this.close=this.close.bind(this)}init(e){if(this.overlay)return;this.overlay=n.createElement("div","modal-overlay"),this.overlay.id=c.ELEMENTS.modalOverlay,n.addEventListener(this.overlay,"click",()=>{this.close()}),this.content=n.createElement("div","modal-content"),this.content.id=c.ELEMENTS.modalContent,n.addEventListener(this.content,"click",i=>{i.stopPropagation()});const r=this.createCloseButton();this.elements.img=n.createElement("img","modal-image"),this.elements.img.id="modal-img-el",this.elements.title=n.createElement("h2","modal-title"),this.elements.title.id="modal-title-el",this.elements.author=n.createElement("p","modal-author"),this.elements.author.id="modal-author-el",this.elements.btn=n.createElement("button","borrow-btn",{text:"Borrow Book"}),n.appendChildren(this.content,[r,this.elements.img,this.elements.title,this.elements.author,this.elements.btn]),n.append(this.overlay,this.content),n.append(e,this.overlay)}createCloseButton(){const e=n.createElement("div","close-btn",{text:"Close"});return n.addEventListener(e,"click",this.close),e}open(e){if(this.activeBookId=e,!this.overlay){console.error("ModalManager not initialized");return}const r=c.BOOKS.find(i=>i.id===this.activeBookId);r&&(this.updateContent(r),n.addClass(this.overlay,c.CLASSES.isOpen),document.body.style.overflow="hidden")}updateContent(e){this.elements.img&&(this.elements.img.src=e.image,this.elements.img.alt=e.title),this.elements.title&&(this.elements.title.textContent=e.title),this.elements.author&&(this.elements.author.textContent=e.author)}close(){this.activeBookId=null,this.overlay&&(n.removeClass(this.overlay,c.CLASSES.isOpen),document.body.style.overflow="")}destroy(){this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.content=null,this.elements={}}}class B{constructor({modalManager:e}){this.modalManager=e,this.container=null,this.hoverImageContainer=null,this.hoveredBookId=null,this.cleanups=[],this.updateHoverImage=this.updateHoverImage.bind(this)}init(e){if(this.container=n.byId(e),!this.container)return;n.addClass(this.container,"row-demo-container");const r=n.createElement("div","row-wrapper");this.renderHoverImageContainer(this.container),this.renderBookList(r),this.renderBookGrid(r),n.append(this.container,r)}renderHoverImageContainer(e){this.hoverImageContainer=n.createElement("div","hover-image-container"),this.hoverImageContainer.id=c.ELEMENTS.hoverImageContainer;const r=n.createElement("img","",{alt:"Hover Preview"});n.append(this.hoverImageContainer,r),n.append(e,this.hoverImageContainer)}updateHoverImage(){if(!this.hoverImageContainer)return;const e=this.hoverImageContainer.querySelector("img");if(this.hoveredBookId){const r=c.BOOKS.find(i=>i.id===this.hoveredBookId);r&&e&&(e.src!==r.image&&(e.src=r.image),n.addClass(this.hoverImageContainer,c.CLASSES.visible))}else n.removeClass(this.hoverImageContainer,c.CLASSES.visible)}renderBookList(e){const r=n.createElement("div","index-section"),i=document.createDocumentFragment(),o=n.delegate(r,"click",".index-row",(a,l)=>{const d=n.getData(l,"bookId");d&&this.modalManager.open(d)});this.cleanups.push(o);const s=n.delegate(r,"mouseover",".index-row",(a,l)=>{const d=n.getData(l,"bookId");d&&this.hoveredBookId!==d&&(this.hoveredBookId=d,this.updateHoverImage())});this.cleanups.push(s);const h=n.delegate(r,"mouseout",".index-row",(a,l)=>{l.contains(a.relatedTarget)||(this.hoveredBookId=null,this.updateHoverImage())});this.cleanups.push(h),c.BOOKS.forEach((a,l)=>{const d=n.createElement("div","index-row");n.setData(d,"bookId",a.id);const g=n.createElement("div","row-meta",{text:`00-${l+1}`}),u=n.createElement("div"),f=n.createElement("h1","",{text:a.title});n.append(u,f);const v=n.createElement("div","row-meta text-right",{text:a.author}),E=n.createElement("div","row-meta text-right",{text:a.type});n.appendChildren(d,[g,u,v,E]),i.appendChild(d)}),n.append(r,i),n.append(e,r)}renderBookGrid(e){const r=n.createElement("h2","grid-header",{text:"Library Grid"});n.append(e,r);const i=n.createElement("div","grid-section"),o=n.createElement("div","grid-container"),s=document.createDocumentFragment(),h=n.delegate(o,"click",".grid-tile",(a,l)=>{const d=n.getData(l,"bookId");d&&this.modalManager.open(d)});this.cleanups.push(h),c.BOOKS.forEach(a=>{const l=n.createElement("div","grid-tile");n.setData(l,"bookId",a.id);const d=n.createElement("img","",{src:a.image,alt:a.title,loading:"lazy"});n.append(l,d),s.appendChild(l)}),n.append(o,s),n.append(i,o),n.append(e,i)}destroy(){this.cleanups.forEach(e=>e()),this.cleanups=[],this.modalManager.destroy(),this.container&&n.clearChildren(this.container),this.container=null,this.hoverImageContainer=null,this.hoveredBookId=null}}document.addEventListener("DOMContentLoaded",()=>{const t=new A;t.init(c.ELEMENTS.dazzleHeader);const e=new x;e.init(document.body);const r=new B({modalManager:e});r.init("rowDemo"),window.App={header:t,modal:e,rowDemo:r}});
