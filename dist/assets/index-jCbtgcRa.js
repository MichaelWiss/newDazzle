(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const C={dazzle:{text:"Dazzle is a creative studio in New York City that makes everything DAZZLING. We make work across all mediums and platforms: branding, digital, motion, illustration, environmental, print, packaging & more.",colors:["#ff5ca8","#ffbd2e","#2bf65d","#05d5ff","#a855f7","#ff5ca8"]},books:[{id:"azurest-blue",title:"AZUREST BLUE: The Life and Legacy of Amaza Lee Meredith",author:"Saint Heron",type:"Research Journal",image:"https://saintheron.com/cdn/shop/files/ALM-SCANS-COVER-2_600x.jpg?v=1762822932"},{id:"daughters-geography",title:"A Daughter's Geography",author:"Ntozake Shange",type:"Poetry",image:"https://saintheron.com/cdn/shop/files/A_Daughter_s_Geography_600x.jpg?v=1758819678"},{id:"black-dance",title:"Black Dance",author:"Edward Thorpe",type:"Arts & Photography",image:"https://saintheron.com/cdn/shop/files/COVER_BLACKDANCE_600x.png?v=1698690934"},{id:"american-negro-art",title:"American Negro Art",author:"Cedric Dover",type:"Art Catalogue",image:"https://saintheron.com/cdn/shop/products/American-Negro-Art-001_600x.png?v=1634054597"}]},u=C||{},m=u.dazzle||{},y=u.books||[],b=m.text||"";m.colors;const S={dazzleHeader:"dazzleHeader",modalOverlay:"modal-overlay",modalContent:"modal-content",hoverImageContainer:"hover-image-container"},L={visible:"visible",isOpen:"is-open"},w="M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z",I=[{size:64,color:"#FFD700",style:{top:"8%",left:"-2%"}},{size:48,color:"#05d5ff",style:{bottom:"20%",right:"5%",animationDelay:"1.2s"}},{size:32,color:"#ff5ca8",style:{top:"40%",left:"45%",opacity:"0.6",animationDelay:"2.5s"}}],c={BOOKS:y,DAZZLE_TEXT:b,ELEMENTS:S,CLASSES:L,SPARKLE_PATH:w,SPARKLE_CONFIGS:I},x="http://www.w3.org/2000/svg",r={query(t,e=document){return!t||!e?null:e.querySelector(t)},queryAll(t,e=document){return!t||!e?[]:Array.from(e.querySelectorAll(t))},byId(t){return t?document.getElementById(t):null},createElement(t,e="",n={}){const i=document.createElement(t);return e&&(i.className=e),Object.entries(n).forEach(([o,s])=>{o==="text"?i.textContent=s:o==="html"?i.innerHTML=s:i.setAttribute(o,s)}),i},createSVG(t,e={}){const n=document.createElementNS(x,t);return Object.entries(e).forEach(([i,o])=>{n.setAttribute(i,o)}),n},applyStyles(t,e={}){!t||!e||Object.assign(t.style,e)},delegate(t,e,n,i){if(!t)return()=>{};const o=s=>{const h=s.target.closest(n);h&&t.contains(h)&&i(s,h)};return t.addEventListener(e,o),()=>t.removeEventListener(e,o)},addEventListener(t,e,n,i={}){return t?(t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)):()=>{}},addEventListeners(t,e={}){const n=[];return Object.entries(e).forEach(([i,o])=>{n.push(this.addEventListener(t,i,o))}),()=>n.forEach(i=>i())},clearChildren(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)},toggleClass(t,e,n){t&&t.classList.toggle(e,n)},addClass(t,...e){t&&t.classList.add(...e)},removeClass(t,...e){t&&t.classList.remove(...e)},hasClass(t,e){return t?t.classList.contains(e):!1},getData(t,e){if(t)return t.dataset[e]},setData(t,e,n){t&&(t.dataset[e]=n)},getAttribute(t,e){return t?t.getAttribute(e):null},setAttribute(t,e,n){t&&t.setAttribute(e,n)},removeAttribute(t,e){t&&t.removeAttribute(e)},insertAfter(t,e){!e||!t||e.parentNode.insertBefore(t,e.nextSibling)},insertBefore(t,e){!e||!t||e.parentNode.insertBefore(t,e)},append(t,e){!t||!e||t.appendChild(e)},appendChildren(t,e=[]){t&&e.forEach(n=>{n&&t.appendChild(n)})},getComputedStyle(t,e){return t?window.getComputedStyle(t).getPropertyValue(e):null},isConnected(t){return t&&t.isConnected},closest(t,e){return t?t.closest(e):null},getOffset(t){return t?(t.getBoundingClientRect(),{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight,offsetHeight:t.offsetHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight}):{top:0,left:0,width:0,height:0}},getBounds(t){return t?t.getBoundingClientRect():null},parsePixels(t){const e=parseFloat(t||"0");return Number.isNaN(e)?0:e},matches(t,e){return t?t.matches(e):!1}};class z{constructor(){this.container=null,this.gradientText=null,this.textWrapper=null,this.observer=null,this.resizeHandler=null,this.handleResize=this.handleResize.bind(this)}init(e){if(this.container=r.byId(e),!this.container){console.error(`Dazzle container #${e} not found`);return}r.clearChildren(this.container),r.addClass(this.container,"dazzle-header"),this.renderBackground(),this.renderContent(),this.setupIntersectionObserver(),this.setupResizeHandler(),requestAnimationFrame(()=>{this.updateGradientPositions(),this.textWrapper&&r.addClass(this.textWrapper,"loaded")}),window.addEventListener("load",()=>{this.updateGradientPositions()})}renderBackground(){const e=r.createElement("div","bg-blob bg-blob-purple"),n=r.createElement("div","bg-blob bg-blob-blue");r.appendChildren(this.container,[e,n])}renderContent(){const e=r.createElement("div","dazzle-content");this.textWrapper=r.createElement("div","dazzle-text-wrapper"),this.gradientText=r.createElement("span","gradient-text");const n=c.DAZZLE_TEXT.trim().split(/\s+/),i=document.createDocumentFragment();n.forEach((s,h)=>{const a=r.createElement("span","gradient-word");r.applyStyles(a,{animationDelay:`${h*.04}s`});const l=r.createElement("span","gradient-text-clip",{text:s});r.append(a,l),i.appendChild(a),h<n.length-1&&i.appendChild(document.createTextNode(" "))}),r.append(this.gradientText,i),r.append(this.textWrapper,this.gradientText),this.renderSparkles(this.textWrapper),r.append(e,this.textWrapper);const o=r.createElement("p","dazzle-footer",{text:"Powered by Vanilla JS"});r.append(e,o),r.append(this.container,e)}renderSparkles(e){c.SPARKLE_CONFIGS.forEach(n=>{const i=r.createElement("div","sparkle-container");r.applyStyles(i,n.style);const o=this.createSparkleSVG(n.size,n.color);r.append(i,o),r.append(e,i)})}createSparkleSVG(e,n){const i=r.createSVG("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:n,class:"sparkle-icon"}),o=r.createSVG("path",{d:c.SPARKLE_PATH});return r.append(i,o),i}updateGradientPositions(){if(!this.gradientText)return;this.gradientText.querySelectorAll(".gradient-word").forEach(n=>{const o=n.getBoundingClientRect().left;n.style.setProperty("--bg-x",`-${o}px`)})}setupIntersectionObserver(){this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?r.removeClass(this.container,"paused"):r.addClass(this.container,"paused")})},{threshold:0}),this.observer.observe(this.container)}setupResizeHandler(){this.resizeHandler=this.handleResize,window.addEventListener("resize",this.resizeHandler)}handleResize(){this.updateGradientPositions()}destroy(){this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),this.observer&&this.observer.disconnect(),this.container&&r.clearChildren(this.container),this.container=null,this.gradientText=null}}class A{constructor(){this.overlay=null,this.content=null,this.activeBookId=null,this.elements={},this.close=this.close.bind(this)}init(e){if(this.overlay)return;this.overlay=r.createElement("div","modal-overlay"),this.overlay.id=c.ELEMENTS.modalOverlay,r.addEventListener(this.overlay,"click",()=>{this.close()}),this.content=r.createElement("div","modal-content"),this.content.id=c.ELEMENTS.modalContent,r.addEventListener(this.content,"click",i=>{i.stopPropagation()});const n=this.createCloseButton();this.elements.img=r.createElement("img","modal-image"),this.elements.img.id="modal-img-el",this.elements.title=r.createElement("h2","modal-title"),this.elements.title.id="modal-title-el",this.elements.author=r.createElement("p","modal-author"),this.elements.author.id="modal-author-el",this.elements.btn=r.createElement("button","borrow-btn",{text:"Borrow Book"}),r.appendChildren(this.content,[n,this.elements.img,this.elements.title,this.elements.author,this.elements.btn]),r.append(this.overlay,this.content),r.append(e,this.overlay)}createCloseButton(){const e=r.createElement("div","close-btn",{text:"Close"});return r.addEventListener(e,"click",this.close),e}open(e){if(this.activeBookId=e,!this.overlay){console.error("ModalManager not initialized");return}const n=c.BOOKS.find(i=>i.id===this.activeBookId);n&&(this.updateContent(n),r.addClass(this.overlay,c.CLASSES.isOpen),document.body.style.overflow="hidden")}updateContent(e){this.elements.img&&(this.elements.img.src=e.image,this.elements.img.alt=e.title),this.elements.title&&(this.elements.title.textContent=e.title),this.elements.author&&(this.elements.author.textContent=e.author)}close(){this.activeBookId=null,this.overlay&&(r.removeClass(this.overlay,c.CLASSES.isOpen),document.body.style.overflow="")}destroy(){this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.content=null,this.elements={}}}class B{constructor({modalManager:e}){this.modalManager=e,this.container=null,this.hoverImageContainer=null,this.hoveredBookId=null,this.cleanups=[],this.updateHoverImage=this.updateHoverImage.bind(this)}init(e){if(this.container=r.byId(e),!this.container)return;r.addClass(this.container,"row-demo-container");const n=r.createElement("div","row-wrapper");this.renderHoverImageContainer(this.container),this.renderBookList(n),this.renderBookGrid(n),r.append(this.container,n)}renderHoverImageContainer(e){this.hoverImageContainer=r.createElement("div","hover-image-container"),this.hoverImageContainer.id=c.ELEMENTS.hoverImageContainer;const n=r.createElement("img","",{alt:"Hover Preview"});r.append(this.hoverImageContainer,n),r.append(e,this.hoverImageContainer)}updateHoverImage(){if(!this.hoverImageContainer)return;const e=this.hoverImageContainer.querySelector("img");if(this.hoveredBookId){const n=c.BOOKS.find(i=>i.id===this.hoveredBookId);n&&e&&(e.src!==n.image&&(e.src=n.image),r.addClass(this.hoverImageContainer,c.CLASSES.visible))}else r.removeClass(this.hoverImageContainer,c.CLASSES.visible)}renderBookList(e){const n=r.createElement("div","index-section"),i=document.createDocumentFragment(),o=r.delegate(n,"click",".index-row",(a,l)=>{const d=r.getData(l,"bookId");d&&this.modalManager.open(d)});this.cleanups.push(o);const s=r.delegate(n,"mouseover",".index-row",(a,l)=>{const d=r.getData(l,"bookId");d&&this.hoveredBookId!==d&&(this.hoveredBookId=d,this.updateHoverImage())});this.cleanups.push(s);const h=r.delegate(n,"mouseout",".index-row",(a,l)=>{l.contains(a.relatedTarget)||(this.hoveredBookId=null,this.updateHoverImage())});this.cleanups.push(h),c.BOOKS.forEach((a,l)=>{const d=r.createElement("div","index-row");r.setData(d,"bookId",a.id);const g=r.createElement("div","row-meta",{text:`00-${l+1}`}),p=r.createElement("div"),f=r.createElement("h1","",{text:a.title});r.append(p,f);const v=r.createElement("div","row-meta text-right",{text:a.author}),E=r.createElement("div","row-meta text-right",{text:a.type});r.appendChildren(d,[g,p,v,E]),i.appendChild(d)}),r.append(n,i),r.append(e,n)}renderBookGrid(e){const n=r.createElement("h2","grid-header",{text:"Library Grid"});r.append(e,n);const i=r.createElement("div","grid-section"),o=r.createElement("div","grid-container"),s=document.createDocumentFragment(),h=r.delegate(o,"click",".grid-tile",(a,l)=>{const d=r.getData(l,"bookId");d&&this.modalManager.open(d)});this.cleanups.push(h),c.BOOKS.forEach(a=>{const l=r.createElement("div","grid-tile");r.setData(l,"bookId",a.id);const d=r.createElement("img","",{src:a.image,alt:a.title,loading:"lazy"});r.append(l,d),s.appendChild(l)}),r.append(o,s),r.append(i,o),r.append(e,i)}destroy(){this.cleanups.forEach(e=>e()),this.cleanups=[],this.modalManager.destroy(),this.container&&r.clearChildren(this.container),this.container=null,this.hoverImageContainer=null,this.hoveredBookId=null}}document.addEventListener("DOMContentLoaded",()=>{const t=new z;t.init(c.ELEMENTS.dazzleHeader);const e=new A;e.init(document.body);const n=new B({modalManager:e});n.init("rowDemo"),window.App={header:t,modal:e,rowDemo:n}});
